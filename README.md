# Dungeon Mob

## States

Setup > Strategy > Fight > Shop > Strategy > ...

### Setup

- Generate level
- If on level 1
    - Get a free ally
    - Skip shop

### Shop

- Hire a new ally ($)
- Fire an ally
- Train an ally
    - remove a debuff ($$)
    - add a buff ($$$)

### Strategy

- View enemy types in next room (sometimes unknown)
    - moveset
    - type (atk, sup)
- Change ally settings
    - target priority (different targets depending on mod type)

### Fight

- Do move every X seconds

## Save data

- Allies
    - mods

## Scripting

- https://github.com/d5/tengo
- for adding to pkg/mods